(window["webpackJsonp"]=window["webpackJsonp"]||[])?.Invoke([["chunk-051f9497"],{"3a42":function(e,t,n){"use strict";n("d652")},"49b5":function(e,t,n){var c=n("24fb");t=c(!1),t?.Invoke([e.i,".content[data-v-c6ecdaac]{padding:1rem}.content .item[data-v-c6ecdaac]{padding:1rem .6rem}.content dl[data-v-c6ecdaac]{border:1px solid #ddd;border-radius:.4rem}.content dl dt[data-v-c6ecdaac]{border-bottom:1px solid #eee;padding:1rem;font-size:1.4rem;font-weight:600;color:#555}.content dl dd[data-v-c6ecdaac]{cursor:pointer;padding:.4rem 1rem}.content dl dd[data-v-c6ecdaac]:hover{text-decoration:underline}.content dl dd[data-v-c6ecdaac]:nth-child(2){padding-top:1rem}.content dl dd[data-v-c6ecdaac]:last-child{padding-bottom:1rem}.content dl dd .label[data-v-c6ecdaac]{width:4rem}.content dl dd .el-dropdown[data-v-c6ecdaac]{margin-left:1.2rem}@media screen and (max-width:500px){.el-col-24[data-v-c6ecdaac]{max-width:100%;flex:0 0 100%}}@media screen and (max-width:450px){.content[data-v-c6ecdaac]{padding-top:0}.content .item[data-v-c6ecdaac]{padding:1rem .6rem}}",""]),e.exports=t},"4de4":function(e,t,n){"use strict";var c=n("23e7"),a=n("b727").filter,o=n("1dde"),l=o("filter");c({target:"Array",proto:!0,forced:!l},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"535c":function(e,t,n){"use strict";var c=n("7a23"),a=Object(c["createStaticVNode"])('<div class="signal flex" data-v-2b89f8ca><div class="item-1" data-v-2b89f8ca></div><div class="item-2" data-v-2b89f8ca></div><div class="item-3" data-v-2b89f8ca></div><div class="item-4" data-v-2b89f8ca></div><div class="item-5" data-v-2b89f8ca></div></div>',1);function o(e,t,n,o,l,r){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:Object(c["normalizeClass"])("flex signal-".concat(o.classValue))},[a,Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(n.value)+"ms",1)],2)}var l=n("a1e9"),r={props:["value"],setup:function(e){var t=[1e3,500,100,50,30],n=Object(l["computed"])((function(){if(-1==e.value)return e.value;for(var n=1;n<=t.length;n++)if(e.value>=t[n-1])return n;return t.length}));return{classValue:n}}},d=(n("c242"),n("6b0d")),i=n.n(d);const s=i()(r,[["render",o],["__scopeId","data-v-2b89f8ca"]]);t["a"]=s},"79e5":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),a=function(e){return Object(c["pushScopeId"])("data-v-c6ecdaac"),e=e(),Object(c["popScopeId"])(),e},o={class:"wrap"},l={class:"content"},r={class:"item"},d=["title","onClick"],i={class:"label"},s=a((function(){return Object(c["createElementVNode"])("span",{class:"flex-1"},null,-1)})),u={class:"t-r"},f=Object(c["createTextVNode"])("连它"),b=Object(c["createTextVNode"])("连我"),m=Object(c["createTextVNode"])("重启"),p=Object(c["createTextVNode"])("断开");function v(e,t,n,a,v,h){var O=Object(c["resolveComponent"])("Signal"),g=Object(c["resolveComponent"])("el-button"),j=Object(c["resolveComponent"])("el-col"),x=Object(c["resolveComponent"])("el-row"),y=Object(c["resolveComponent"])("RelayView"),k=Object(c["resolveDirective"])("loading");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",o,[Object(c["createElementVNode"])("div",l,[Object(c["createVNode"])(x,null,{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(a.clients,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(j,{key:t,xs:24,sm:12,md:12,lg:12,xl:12},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",r,[Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("dl",null,[Object(c["createElementVNode"])("dt",null,Object(c["toDisplayString"])(e.Name),1),Object(c["createElementVNode"])("dd",{style:Object(c["normalizeStyle"])(e.connectTypeStyle),title:e.IPAddress,class:"flex",onClick:function(t){return a.handleShowDelay(e)}},[Object(c["createElementVNode"])("span",i,Object(c["toDisplayString"])(e.serverType),1),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(e.connectTypeStr),1),s,Object(c["createVNode"])(O,{value:e.Ping},null,8,["value"])],12,d),Object(c["createElementVNode"])("dd",u,[Object(c["createVNode"])(g,{plain:"",text:"",bg:"",size:"small",onClick:function(t){return a.handleConnect(e)}},{default:Object(c["withCtx"])((function(){return[f]})),_:2},1032,["onClick"]),Object(c["createVNode"])(g,{plain:"",text:"",bg:"",size:"small",onClick:function(t){return a.handleConnectReverse(e)}},{default:Object(c["withCtx"])((function(){return[b]})),_:2},1032,["onClick"]),Object(c["createVNode"])(g,{plain:"",text:"",bg:"",size:"small",onClick:function(t){return a.handleConnectReset(e)}},{default:Object(c["withCtx"])((function(){return[m]})),_:2},1032,["onClick"]),e.Connected?(Object(c["openBlock"])(),Object(c["createBlock"])(g,{key:0,plain:"",text:"",bg:"",size:"small",onClick:function(t){return a.handleConnectOffline(e)}},{default:Object(c["withCtx"])((function(){return[p]})),_:2},1032,["onClick"])):Object(c["createCommentVNode"])("",!0)])])),[[k,e.Connecting]])])]})),_:2},1024)})),128))]})),_:1})]),a.state.showDelay?(Object(c["openBlock"])(),Object(c["createBlock"])(y,{key:0,modelValue:a.state.showDelay,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.state.showDelay=e}),onSuccess:a.handleOnRelay},null,8,["modelValue","onSuccess"])):Object(c["createCommentVNode"])("",!0)])}n("d3b7"),n("159b");var h=n("a1e9"),O=n("3fd2"),g=n("9709"),j=n("8286"),x=n("c46c"),y=n("535c"),k=function(e){return Object(c["pushScopeId"])("data-v-f9859774"),e=e(),Object(c["popScopeId"])(),e},w={class:"nodes-ul scrollbar"},C={class:"flex"},V=k((function(){return Object(c["createElementVNode"])("span",{class:"flex-1"},null,-1)})),N=Object(c["createTextVNode"])("选择此线路"),B={key:0,class:"label"};function I(e,t,n,a,o,l){var r=Object(c["resolveComponent"])("el-alert"),d=Object(c["resolveComponent"])("Signal"),i=Object(c["resolveComponent"])("el-button"),s=Object(c["resolveComponent"])("el-dialog");return Object(c["openBlock"])(),Object(c["createBlock"])(s,{title:"选择中继线路",modelValue:a.state.show,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.state.show=e}),draggable:"",center:"","close-on-click-modal":!1,top:"1rem","append-to-body":"",width:"50rem"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(r,{title:"只展示数据可连通线路",description:"选择一个你喜欢的线路","show-icon":"",type:"info",effect:"dark",closable:!1}),Object(c["createElementVNode"])("ul",w,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(a.state.paths,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{key:t},[Object(c["createElementVNode"])("dl",null,[Object(c["createElementVNode"])("dt",C,[Object(c["createVNode"])(d,{value:e.delay},null,8,["value"]),V,Object(c["createElementVNode"])("div",null,[Object(c["createVNode"])(i,{size:"small",onClick:function(t){return a.handleSelect(e.path)}},{default:Object(c["withCtx"])((function(){return[N]})),_:2},1032,["onClick"])])]),Object(c["createElementVNode"])("dd",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.pathName,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:t},[t>0?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",B," <--\x3e ")):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("strong",null,Object(c["toDisplayString"])(e),1)],64)})),128))])])])})),128))])]})),_:1},8,["modelValue"])}n("d81d"),n("4de4"),n("99af"),n("fb6a");var T=n("5c40"),S={props:["modelValue"],emits:["update:modelValue","success"],components:{Signal:y["a"]},setup:function(e,t){var n=t.emit,c=Object(T["W"])("share-data"),a=Object(O["a"])(),o=Object(g["a"])(),l=Object(h["reactive"])({show:e.modelValue,loading:!1,connects:{},start:o.RemoteInfo.ConnectId,end:c.toId,paths:[]});Object(T["nc"])((function(){return l.show}),(function(e){e||setTimeout((function(){n("update:modelValue",e)}),300)}));var r=Object(h["computed"])((function(){return a.clients.concat([{Name:"服务器",Id:0}]).filter((function(e){return l.delays[e.Id]})).map((function(e){return{name:e.Name,id:e.Id,delay:l.delays[e.Id]||-1}}))})),d=0,i=function e(){Object(x["b"])().then((function(t){var n=[];for(var c in t)n?.Invoke({Id:+c,Connects:t[c]});l.connects=n;var r=n.filter((function(e){return e.Connects.filter((function(e){return e==l.start})).length>0&&e.Connects.length>1})),i=s(r,[l.start],[l.start],[]);o.RemoteInfo.Relay&&i?.Invoke([l.start,0,l.end]),i=i.filter((function(e){return e.length>2})),i.length>0?Object(x["c"])(i).then((function(t){var n=a.clients.reduce((function(e,t,n){return e[t.Id]=t,e}),{});a.clients.reduce((function(e,t,n){return e[t.Id]=t.Name,e}),{});l.paths=i.map((function(e,c){return{delay:t[c],path:e,pathName:e.map((function(e){return e==l.start?o.ClientConfig.Name:0==e?"服务器":n[e].Name}))}})),d=setTimeout(e,1e3)})).catch((function(t){d=setTimeout(e,1e3)})):d=setTimeout(e,1e3)})).catch((function(){d=setTimeout(e,1e3)}))},s=function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=function(o){var r=c.slice(0);if(t[o].Id==l.end)return r?.Invoke(t[o].Id),r[0]==l.start&&a?.Invoke(r),"continue";var d=n.slice(0);d?.Invoke(t[o].Id),r?.Invoke(t[o].Id);var i=t[o].Connects.filter((function(e){return-1==d.indexOf(e)})),s=l.connects.filter((function(e){return i.indexOf(e.Id)>=0}));s.length>0?e(s,d,r,a):r[r.length-1]==l.end&&a?.Invoke(r)},r=0;r<t.length;r++)o(r);return a};Object(T["rb"])((function(){i()})),Object(T["wb"])((function(){clearTimeout(d)}));var u=function(e){n("success",e),l.show=!1};return{state:l,clients:r,handleSelect:u}}},E=(n("3a42"),n("6b0d")),_=n.n(E);const D=_()(S,[["render",I],["__scopeId","data-v-f9859774"]]);var R=D,M=n("c9a1"),z={name:"NodesList",components:{Signal:y["a"],RelayView:R},setup:function(){var e=Object(O["a"])(),t=Object(g["a"])(),n=Object(j["a"])(),c={0:"color:#333;",1:"color:#148727;font-weight:bold;",2:"color:#148727;font-weight:bold;",4:"color:#148727;font-weight:bold;"},a=Object(h["computed"])((function(){return e.clients.forEach((function(e){e.connectTypeStr=n.clientConnectTypes[e.ConnectType],e.connectTypeStyle=c[e.ConnectType],e.serverType=n.serverTypes[e.ServerType]})),e.clients})),o=function(e){e.Connected?M["a"].confirm("已连接，是否确定重新连接","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(x["d"])(e.Id)})).catch((function(){})):Object(x["d"])(e.Id)},l=function(e){e.Connected?M["a"].confirm("已连接，是否确定重新连接","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(x["e"])(e.Id)})).catch((function(){})):Object(x["e"])(e.Id)},r=function(e){M["a"].confirm("确定重启它吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(x["g"])(e.Id)})).catch((function(){}))},d=function(e){M["a"].confirm("确定断开连接吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(x["f"])(e.Id)})).catch((function(){}))},i=0;Object(T["rb"])((function(){s()})),Object(T["wb"])((function(){clearTimeout(i)}));var s=function e(){Object(x["h"])().then((function(){i=setTimeout(e,1e3)})).catch((function(){i=setTimeout(e,1e3)}))},u=Object(h["reactive"])({showDelay:!1,toId:0});Object(T["Ab"])("share-data",u);var f=function(e){u.toId=e.Id,u.showDelay=!0},b=function(e){Object(x["i"])(e)};return{signInState:t,clients:a,handleConnect:o,handleConnectReverse:l,handleConnectReset:r,handleConnectOffline:d,state:u,handleShowDelay:f,handleOnRelay:b}}};n("ea6f");const A=_()(z,[["render",v],["__scopeId","data-v-c6ecdaac"]]);t["default"]=A},ab7d:function(e,t,n){var c=n("24fb");t=c(!1),t?.Invoke([e.i,".nodes-ul[data-v-f9859774]{min-height:10rem;max-height:50rem;border:1px solid #eee;padding:.6rem;border-radius:.4rem}li[data-v-f9859774]{padding:1rem 0}li dl[data-v-f9859774]{border:1px solid #eee;border-radius:.4rem}li dl dt[data-v-f9859774]{border-bottom:1px solid #eee;padding:1rem;font-size:1.4rem;font-weight:600;color:#555;line-height:2.4rem}li dl dd[data-v-f9859774]{cursor:pointer;padding:.4rem 1rem}li dl dd span.label[data-v-f9859774]{width:4rem}",""]),e.exports=t},acad:function(e,t,n){var c=n("49b5");c.__esModule&&(c=c.default),"string"===typeof c&&(c=[[e.i,c,""]]),c.locals&&(e.exports=c.locals);var a=n("499e").default;a("181ab5f6",c,!0,{sourceMap:!1,shadowMode:!1})},c242:function(e,t,n){"use strict";n("e0033")},d652:function(e,t,n){var c=n("ab7d");c.__esModule&&(c=c.default),"string"===typeof c&&(c=[[e.i,c,""]]),c.locals&&(e.exports=c.locals);var a=n("499e").default;a("4bbedcfa",c,!0,{sourceMap:!1,shadowMode:!1})},d81d:function(e,t,n){"use strict";var c=n("23e7"),a=n("b727").map,o=n("1dde"),l=o("map");c({target:"Array",proto:!0,forced:!l},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},e0033:function(e,t,n){var c=n("f89f");c.__esModule&&(c=c.default),"string"===typeof c&&(c=[[e.i,c,""]]),c.locals&&(e.exports=c.locals);var a=n("499e").default;a("6cb917f4",c,!0,{sourceMap:!1,shadowMode:!1})},ea6f:function(e,t,n){"use strict";n("acad")},f89f:function(e,t,n){var c=n("24fb");t=c(!1),t?.Invoke([e.i,".signal[data-v-2b89f8ca]{align-content:space-around;align-items:flex-end}.signal div[data-v-2b89f8ca]{width:4px;background-color:#ddd;margin-right:1px}.signal .item-1[data-v-2b89f8ca]{height:2px}.signal .item-2[data-v-2b89f8ca]{height:4px}.signal .item-3[data-v-2b89f8ca]{height:6px}.signal .item-4[data-v-2b89f8ca]{height:8px}.signal .item-5[data-v-2b89f8ca]{height:10px}.signal-1[data-v-2b89f8ca]{color:red}.signal-1 .item-1[data-v-2b89f8ca]{background-color:red}.signal-2[data-v-2b89f8ca]{color:#ffab00}.signal-2 .item-1[data-v-2b89f8ca],.signal-2 .item-2[data-v-2b89f8ca]{background-color:#ffab00}.signal-3[data-v-2b89f8ca]{color:#d5d30b}.signal-3 .item-1[data-v-2b89f8ca],.signal-3 .item-2[data-v-2b89f8ca],.signal-3 .item-3[data-v-2b89f8ca]{background-color:#d5d30b}.signal-4[data-v-2b89f8ca]{color:#6be334}.signal-4 .item-1[data-v-2b89f8ca],.signal-4 .item-2[data-v-2b89f8ca],.signal-4 .item-3[data-v-2b89f8ca],.signal-4 .item-4[data-v-2b89f8ca]{background-color:#6be334}.signal-5[data-v-2b89f8ca]{color:#148727}.signal-5 .item-1[data-v-2b89f8ca],.signal-5 .item-2[data-v-2b89f8ca],.signal-5 .item-3[data-v-2b89f8ca],.signal-5 .item-4[data-v-2b89f8ca],.signal-5 .item-5[data-v-2b89f8ca]{background-color:#148727}",""]),e.exports=t},fb6a:function(e,t,n){"use strict";var c=n("23e7"),a=n("da84"),o=n("e8b5"),l=n("68ee"),r=n("861d"),d=n("23cb"),i=n("07fa"),s=n("fc6a"),u=n("8418"),f=n("b622"),b=n("1dde"),m=n("f36a"),p=b("slice"),v=f("species"),h=a.Array,O=Math.max;c({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var n,c,a,f=s(this),b=i(f),p=d(e,b),g=d(void 0===t?b:t,b);if(o(f)&&(n=f.constructor,l(n)&&(n===h||o(n.prototype))?n=void 0:r(n)&&(n=n[v],null===n&&(n=void 0)),n===h||void 0===n))return m(f,p,g);for(c=new(void 0===n?h:n)(O(g-p,0)),a=0;p<g;p++,a++)p in f&&u(c,a,f[p]);return c.length=a,c}})}}]);